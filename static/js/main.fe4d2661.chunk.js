(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{204:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a,c=n(72),r=n.n(c),s=n(0),o=n(171),i=n(16),l=(n(196),n(223)),j=n(78),h=n(48),b=n(232),d=n(227),p=n(233),m=n(225),u=n(230),g=n(226),O=n(89),x=n(110),v=n(54),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s.useState)(t),a=Object(h.a)(n,2),c=a[0],r=a[1],o=function(e){r(Object(v.a)(Object(v.a)({},c),{},Object(x.a)({},e.target.name,e.target.value)))},i=function(t){t.preventDefault(),e()};return{onChange:o,onSubmit:i,value:c}},w=n(5),y=Object(O.a)(a||(a=Object(j.a)(["\n    mutation createSurvey(\n        $name: String!\n        $phone: String!\n        $college: String!\n        $codechef_id: String!\n        $whatsapp: String\n        $branch: String!\n        $semester: String!\n        $email: String!\n    ){\n        createSurvey(\n            surveyInput:{\n                name: $name\n                phone: $phone\n                college: $college\n                codechef_id: $codechef_id\n                whatsapp: $whatsapp\n                branch: $branch\n                semester: $semester\n                email: $email\n            }\n        ){\n            id\n            college\n            branch\n        }\n    }\n"]))),S=function(e){var t=Object(s.useState)({}),n=Object(h.a)(t,2),a=n[0],c=n[1],r=f((function(){x()}),{name:"",phone:"",college:"",codechef_id:"",whatsapp:"",branch:"",semester:"",email:""}),o=r.onChange,i=r.onSubmit,l=r.value,j=Object(g.a)(y,{update:function(t,n){var a=n.data.createSurvey;"bangalore institute of technology"!==a.college.toLowerCase()||"computer science and enginerring"!==a.branch.toLowerCase()&&"cse"!==a.branch.toLowerCase()&&"computer science"!==a.branch.toLowerCase()?e.history.push("/submitted"):e.history.push("/join")},onError:function(e){void 0!==e.graphQLErrors[0]?c(e.graphQLErrors[0].extensions.exception.errors):c({error:"Server Error Try Again"})},variables:l}),O=Object(h.a)(j,2),x=O[0],v=O[1].loading;return Object(w.jsxs)(b.a,{inverted:!0,color:"teal",children:[Object(w.jsxs)(d.a,{secondary:!0,size:"massive",fluid:!0,widths:3,children:[Object(w.jsx)(d.a.Item,{children:Object(w.jsx)("img",{style:{background:"white"},alt:"img_3",src:"https://firebasestorage.googleapis.com/v0/b/fir-a11e8.appspot.com/o/fb-image-icon.png?alt=media"})}),Object(w.jsxs)(d.a.Item,{children:[Object(w.jsx)("img",{alt:"img",src:"https://firebasestorage.googleapis.com/v0/b/fir-a11e8.appspot.com/o/Untitled%20design.png?alt=media"}),Object(w.jsx)("div",{children:"SDI CLUB"})]}),Object(w.jsx)(d.a.Item,{children:Object(w.jsx)("img",{style:{background:"teal"},alt:"img_2",src:"https://firebasestorage.googleapis.com/v0/b/fir-a11e8.appspot.com/o/bitlogo.png?alt=media"})})]}),Object(w.jsxs)(d.a,{secondary:!0,size:"massive",fluid:!0,widths:4,children:[Object(w.jsx)(d.a.Item,{}),Object(w.jsx)(d.a.Item,{children:"Competitive Coding Competition"}),Object(w.jsx)(d.a.Item,{})]}),Object(w.jsx)(p.a,{children:Object(w.jsx)(p.a.Row,{centered:!0,children:Object(w.jsxs)(p.a.Column,{width:10,children:[Object(w.jsxs)(m.a,{size:"massive",onSubmit:i,noValidate:!0,className:v?"loading":"",children:[Object(w.jsx)(m.a.Input,{label:"Name",placeholder:"Name",name:"name",type:"text",value:l.name,onChange:o}),Object(w.jsx)(m.a.Input,{label:"Email",placeholder:"Email",name:"email",type:"text",value:l.email,onChange:o}),Object(w.jsx)(m.a.Input,{label:"Phone",placeholder:"Phone",name:"phone",type:"text",value:l.phone,onChange:o,maxLength:"10",minLength:"10"}),Object(w.jsx)(m.a.Input,{label:"College",placeholder:"College",name:"college",type:"text",value:l.college,onChange:o}),Object(w.jsx)(m.a.Input,{label:"Codechef Id",placeholder:"Codechef Id",name:"codechef_id",type:"text",value:l.codechef_id,onChange:o}),Object(w.jsx)(m.a.Input,{label:"Whatsapp (If different than phone)",placeholder:"Whatsapp",name:"whatsapp",type:"text",value:l.whatsapp,onChange:o,maxLength:"10",minLength:"10"}),Object(w.jsx)(m.a.Input,{label:"Branch",placeholder:"Branch",name:"branch",type:"text",value:l.branch,onChange:o}),Object(w.jsx)(m.a.Input,{label:"Semester",placeholder:"Semester",name:"semester",type:"text",value:l.semester,onChange:o,maxLength:"1",minLength:"1"}),Object(w.jsx)(u.a,{type:"submit",color:"blue",children:"Submit"})]}),Object.keys(a).length>0&&Object(w.jsx)("div",{className:"ui error message",children:Object(w.jsx)("ul",{className:"list",children:Object.values(a).map((function(e){return Object(w.jsx)("li",{children:e},e)}))})})]})})})]})};var C=function(){return Object(w.jsx)(b.a,{size:"massive",color:"teal",children:Object(w.jsxs)("h2",{children:["Registered Successfully. Please pay 20/- using UPI 7597477435 (Akhil) to complete your registration.",Object(w.jsx)("br",{}),"Please send the screenshot on whatsapp 7597477435.",Object(w.jsx)("br",{}),"Thank You."]})})},I=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(C,{}),Object(w.jsx)(b.a,{color:"teal",children:Object(w.jsxs)("h2",{children:["To JOIN SDI Club: ",Object(w.jsx)("br",{}),Object(w.jsx)("b",{children:Object(w.jsx)("a",{href:"https://chat.whatsapp.com/JA8WBVjjHi45dDFw1sDNh6",target:"_blank",rel:"noopener noreferrer",children:"Click Here"})})]})})]})},$=n(170),k={user:null};if(localStorage.getItem("jwtToken")){var L=Object($.a)(localStorage.getItem("jwtToken"));1e3*L.exp<Date.now()?localStorage.removeItem("jwtToken"):k.user=L}var _,N=Object(s.createContext)({user:null,login:function(e){},logout:function(){}});var E,B=Object(O.a)(_||(_=Object(j.a)(["\n    mutation login(\n        $username: String!\n        $password: String!\n    ){\n        login(\n                username: $username\n                password: $password\n        ){\n            id email username createdAt token\n        }\n    }\n"]))),D=function(e){var t=Object(s.useContext)(N),n=Object(s.useState)({}),a=Object(h.a)(n,2),c=a[0],r=a[1],o=f((function(){p()}),{username:"",password:""}),i=o.onChange,l=o.onSubmit,j=o.value,b=Object(g.a)(B,{update:function(n,a){var c=a.data.login;t.login(c),e.history.push("/userdata")},onError:function(e){r(e.graphQLErrors[0].extensions.exception.errors)},variables:j}),d=Object(h.a)(b,2),p=d[0],O=d[1].loading;return Object(w.jsxs)("div",{className:"form-container",children:[Object(w.jsxs)(m.a,{onSubmit:l,noValidate:!0,className:O?"loading":"",children:[Object(w.jsx)("h1",{children:"Login"}),Object(w.jsx)(m.a.Input,{label:"Username",placeholder:"Username",name:"username",type:"text",value:j.username,onChange:i}),Object(w.jsx)(m.a.Input,{label:"Password",placeholder:"Password",name:"password",type:"password",value:j.password,onChange:i}),Object(w.jsx)(u.a,{type:"submit",primary:!0,children:"Login"})]}),Object.keys(c).length>0&&Object(w.jsx)("div",{className:"ui error message",children:Object(w.jsx)("ul",{className:"list",children:Object.values(c).map((function(e){return Object(w.jsx)("li",{children:e},e)}))})})]})},P=(n(204),n(231)),T=n(228),z=n(229);var A=Object(O.a)(E||(E=Object(j.a)(["\nquery getSurvey{\n        getSurvey{\n            id\n            name\n            phone\n            college\n            codechef_id\n            whatsapp\n            branch\n            semester\n            email\n        }\n    }\n"]))),R=function(){var e=Object(P.a)(A),t=e.loading,n=e.data;return Object(w.jsx)(p.a,{children:Object(w.jsx)(p.a.Row,{children:t?Object(w.jsx)("h1",{children:"Loading Data"}):Object(w.jsx)(T.a.Group,{children:n.getSurvey.length>0&&n.getSurvey.map((function(e){return Object(w.jsx)(p.a.Row,{width:14,style:{marginBottom:20,marginRight:20,marginTop:10},children:Object(w.jsx)(z.a,{children:Object(w.jsxs)(z.a.Content,{children:[Object(w.jsx)(z.a.Header,{children:e.name}),Object(w.jsxs)(z.a.Description,{children:["Phone: ",e.phone," ",Object(w.jsx)("br",{}),"College: ",e.college," ",Object(w.jsx)("br",{}),"Codechef_id: ",e.codechef_id," ",Object(w.jsx)("br",{}),"Whatsapp: ",e.whatsapp," ",Object(w.jsx)("br",{}),"Branch: ",e.branch," ",Object(w.jsx)("br",{}),"Semester: ",e.semester," ",Object(w.jsx)("br",{}),"Email: ",e.email," ",Object(w.jsx)("br",{})]})]})})},e.id)}))})})})};var U=function(){return Object(w.jsx)(o.a,{children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(i.a,{exact:!0,path:"/home",component:S}),Object(w.jsx)(i.a,{exact:!0,path:"/join",component:I}),Object(w.jsx)(i.a,{exact:!0,path:"/submitted",component:C}),Object(w.jsx)(i.a,{exact:!0,path:"/",component:D}),Object(w.jsx)(i.a,{exact:!0,path:"/userdata",component:R})]})})},J=n(174),W=n(178),H=n(179),Q=n(224),V=n(173),F=Object(H.a)({uri:"https://sdi-survey.herokuapp.com"}),q=Object(V.a)((function(){var e=localStorage.getItem("jwttoken");return{headers:{Authorization:e?"Bearer ".concat(e):""}}})),G=new J.a({link:q.concat(F),cache:new W.a}),Y=Object(w.jsx)(Q.a,{client:G,children:Object(w.jsx)(U,{})});r.a.render(Y,document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.fe4d2661.chunk.js.map